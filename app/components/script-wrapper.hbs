<div class="flex flex-column grow-1 mh3 relative script-wrapper-height">
  <div class="flex justify-between flex-wrap">
    <TabMenu
      @onSelect={{fn this.setUi}}
      @selectedValue={{"init"}}
      @items={{compact (array 
        (hash label="setup" value="init" beacon=@track.initScript.alert)
        (if @track.onstepScript (hash label="play" value="onstep" beacon=@track.onstepScript.alert))
      )}}
    />
   <PresetMenu 
      {{on "change" this.selectPreset}} 
      {{did-update this.setDefaultPreset @track.selectedPreset}}
      @track={{@track}}
      @presetCollections={{@presetCollections}}
    />
  </div>

  {{#if (and @track.initScript (eq this.scriptUi "init"))}}
    <SignalChainCreator 
      @trackNodes={{@model.trackNodes}} 
      @onGenerateScript={{fn this.updateEditorContent @track.initScript}}
    />
    {{!-- <ScriptEditor 
      class={{if @shrinkForFooter "shrink-for-footer"}}
      @scriptModel={{@track.initScript}} 
      @editorContent={{@track.initScript.editorContent}} 
      @editorLineCount={{this.editorLineCount}}
    /> --}}
  {{/if}}

  {{#if (and @track.onstepScript (eq this.scriptUi "onstep"))}}
    <ScriptEditor 
      class={{if @shrinkForFooter "shrink-for-footer"}}
      @scriptModel={{@track.onstepScript}} 
      @editorContent={{@track.onstepScript.editorContent}} 
      @editorLineCount={{this.editorLineCount}}
    > 
    </ScriptEditor>
  {{/if}}

</div>

